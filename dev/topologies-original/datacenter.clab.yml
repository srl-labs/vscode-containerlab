name: datacenter

topology:
  nodes:
    border1:
      kind: nokia_srlinux
      type: ixrd3
      image: ghcr.io/nokia/srlinux:latest
    border2:
      kind: nokia_srlinux
      type: ixrd3
      image: ghcr.io/nokia/srlinux:latest
    spine1:
      kind: nokia_srlinux
      type: ixrd3
      image: ghcr.io/nokia/srlinux:latest
    spine2:
      kind: nokia_srlinux
      type: ixrd3
      image: ghcr.io/nokia/srlinux:latest
    spine3:
      kind: nokia_srlinux
      type: ixrd3
      image: ghcr.io/nokia/srlinux:latest
    leaf1:
      kind: nokia_srlinux
      type: ixrd2
      image: ghcr.io/nokia/srlinux:latest
    leaf2:
      kind: nokia_srlinux
      type: ixrd2
      image: ghcr.io/nokia/srlinux:latest
    leaf3:
      kind: nokia_srlinux
      type: ixrd2
      image: ghcr.io/nokia/srlinux:latest
    leaf4:
      kind: nokia_srlinux
      type: ixrd2
      image: ghcr.io/nokia/srlinux:latest
    server1:
      kind: linux
      image: ghcr.io/srl-labs/network-multitool:latest
    server2:
      kind: linux
      image: ghcr.io/srl-labs/network-multitool:latest
    server3:
      kind: linux
      image: ghcr.io/srl-labs/network-multitool:latest
    server4:
      kind: linux
      image: ghcr.io/srl-labs/network-multitool:latest
    server5:
      kind: linux
      image: ghcr.io/srl-labs/network-multitool:latest
    server6:
      kind: linux
      image: ghcr.io/srl-labs/network-multitool:latest

  links:
    # Border to Spine
    - endpoints: ["border1:e1-1", "spine1:e1-49"]
    - endpoints: ["border1:e1-2", "spine2:e1-49"]
    - endpoints: ["border2:e1-1", "spine2:e1-50"]
    - endpoints: ["border2:e1-2", "spine3:e1-49"]
    # Spine to Leaf (full mesh)
    - endpoints: ["spine1:e1-1", "leaf1:e1-49"]
    - endpoints: ["spine1:e1-2", "leaf2:e1-49"]
    - endpoints: ["spine2:e1-1", "leaf1:e1-50"]
    - endpoints: ["spine2:e1-2", "leaf2:e1-50"]
    - endpoints: ["spine2:e1-3", "leaf3:e1-49"]
    - endpoints: ["spine2:e1-4", "leaf4:e1-49"]
    - endpoints: ["spine3:e1-1", "leaf3:e1-50"]
    - endpoints: ["spine3:e1-2", "leaf4:e1-50"]
    # Leaf to Servers (Rack A)
    - endpoints: ["leaf1:e1-1", "server1:eth1"]
    - endpoints: ["leaf1:e1-2", "server2:eth1"]
    - endpoints: ["leaf2:e1-1", "server2:eth2"]
    - endpoints: ["leaf2:e1-2", "server3:eth1"]
    # Leaf to Servers (Rack B)
    - endpoints: ["leaf3:e1-1", "server4:eth1"]
    - endpoints: ["leaf3:e1-2", "server5:eth1"]
    - endpoints: ["leaf4:e1-1", "server5:eth2"]
    - endpoints: ["leaf4:e1-2", "server6:eth1"]
